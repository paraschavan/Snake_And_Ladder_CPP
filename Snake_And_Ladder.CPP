#include<conio.h>
#include<stdio.h>
#include<graphics.h>
#include<dos.h>
#include<math.h>
#include<process.h>
int n=1,s=0,pn;
int i,c=0,p1i=1,p2i=1,p3i=1,p4i=1,pc,pc1=0,pc2=0,pc3=0,pc4=0;
int px1=145,py1=370,px2=145,py2=390,px3=175,py3=370,px4=175,py4=390;
int ldr=0,snk=0,d=0;
void cal();
void entity();
void base();
void fldr();
void fsnk();
void fillcolor(int,int,int,int);
void p();
void p1();
void p2();
void p3();
void p4();
void dd();
void main()
{
	char ch;
	clrscr();
	int gd=DETECT,gm;
	initgraph(&gd,&gm,"C:\\turboc3\\bgi");
	printf("Enter Number Of Players(1-4)=>");
	scanf("\n%d",&pn);
	pc=1;
	do
	{
		clrscr();
		cleardevice();
		base();
		p();
		entity();
		dd();
		circle(122,167,10);
		fillcolor(122,167,pc,0);
		printf("\n\n\nR=>To Roll\nQ=>To Quit\nPlayer Position:\nPlayer 1=>%d\nPlayer 2=>%d\nPlayer 3=>%d\nPlayer 4=>%d\nTurn=>Player %d\n=>",p1i,p2i,p3i,p4i,pc);
		scanf("\n%c",&ch);
		if(ch=='q'||ch=='Q')
		{
			exit(0);
		}
		if(ch=='r'||ch=='R')
		{
			cal();
		}
		switch(pc)
		{
			case 1:
			fldr();
			fsnk();
		for(i=p1i;i<p1i+n+ldr&&p1i+n<=100;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py1=py1-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px1=px1+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px1=px1-40;
				dd();
				base();
			}
			if(i==100)
			{
				pc1=1;
			}
			c=0;
			if(i<p1i+n)
			{
			p();
			entity();
			delay(500);
			}
			entity();
		}
		p1i=p1i+n+ldr;
		ldr=0;
	      if(d==1&&i==p1i)
	      {
			px1=145;
			py1=370;

	      for(i=d;i<p1i-snk;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py1=py1-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px1=px1+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px1=px1-40;
				dd();
				base();
			}
			c=0;
			entity();
		}
		p1i=p1i-snk;
		d=0;
		snk=0;
	      }
		break;
			case 2:
			fldr();
			fsnk();
		for(i=p2i;i<p2i+n+ldr&&p2i+n<=100;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py2=py2-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px2=px2+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px2=px2-40;
				dd();
				base();
			}
				if(i==100)
			{
				pc2=1;
			}
			c=0;
			if(i<p2i+n)
			{
			p();
			entity();
			delay(500);
			}
			entity();
		}
		p2i=p2i+n+ldr;
		ldr=0;
		if(d==1&&i==p2i)
	      {
		px2=145;
		py2=390;
	       for(i=d;i<p2i-snk;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py2=py2-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px2=px2+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px2=px2-40;
				dd();
				base();
			}
			c=0;
			entity();
		}
		p2i=p2i-snk;
		d=0;
		snk=0;
	      }
		break;
			case 3:
			fldr();
			fsnk();
		for(i=p3i;i<p3i+n+ldr&&p3i+n<=100;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py3=py3-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px3=px3+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px3=px3-40;
				dd();
				base();
			}
				if(i==100)
			{
				pc3=1;
			}
			c=0;
			if(i<p3i+n)
			{
			p();
			entity();
			delay(500);
			}
			entity();
		}
		p3i=p3i+n+ldr;
		ldr=0;
		if(d==1&&i==p3i)
	      {
		px3=175;
		py3=370;
		for(i=d;i<p3i-snk;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py3=py3-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px3=px3+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px3=px3-40;
				dd();
				base();
			}
			c=0;
			entity();
		}
		p3i=p3i-snk;
		d=0;
		snk=0;
	      }
		break;
			case 4:
			fldr();
			fsnk();
		for(i=p4i;i<p4i+n+ldr&&p4i+n<=100;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py4=py4-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px4=px4+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px4=px4-40;
				dd();
				base();
			}
				if(i==100)
			{
				pc4=1;
			}
			c=0;
			if(i<p4i+n)
			{
			p();
			entity();
			delay(500);
			}
			entity();
		}
		p4i=p4i+n+ldr;
		ldr=0;
		if(d==1&&i==p4i)
	      {
			px4=175;
			py4=390;
		 for(i=d;i<p4i-snk;i++)
		{
			cleardevice();
			if(i%10==0&&c==0)
			{
				py4=py4-40;
				dd();
				base();
				c=1;
			}
			if((i>0&&i<11||i>20&&i<31||i>40&&i<51||i>60&&i<71||i>80&&i<91)&&c==0)
			{
				px4=px4+40;
				dd();
				base();
			}
			if((i>10&&i<21||i>30&&i<41||i>50&&i<61||i>70&&i<81||i>90&&i<101)&&c==0)
			{
				px4=px4-40;
				dd();
				base();
			}
			c=0;
			entity();
		}
		p4i=p4i-snk;
		d=0;
		snk=0;
	      }
		break;
	}
		pc++;
		if(pc>pn)
		{
			pc=1;
		}
		d=0;
		if(p1i==100)
		{
			clrscr();
			cleardevice();
			base();
			printf("Player:1 Win!");
			delay(1000);
			exit(0);
		}
		if(p2i==100)
		{
			clrscr();
			cleardevice();
			base();
			printf("Player:2 Win!");
			delay(1000);
			exit(0);
		}
		if(p3i==100)
		{
			clrscr();
			cleardevice();
			base();
			printf("Player:3 Win!");
			delay(1000);
			exit(0);
		}
		if(p4i==100)
		{
			clrscr();
			cleardevice();
			base();
			printf("Player:4 Win!");
			delay(1000);
			exit(0);
		}
	}
	while(ch!='q');
	getch();
}
void p()
{
	if(pn>0)
	{
		p1();
	}
	if(pn>1)
	{
		p2();
	}
	if(pn>2)
	{
		p3();
	}
	if(pn>3)
	{
		p4();
	}
}
void p1()
{
		circle(px1,py1,5);
		fillcolor(px1,py1,1,0);
}
void p2()
{
		circle(px2,py2,5);
		fillcolor(px2,py2,2,0);
}
void p3()
{
		circle(px3,py3,5);
		fillcolor(px3,py3,3,0);
}
void p4()
{
		circle(px4,py4,5);
		fillcolor(px4,py4,4,0);
}
void cal()
{

	while(!kbhit())
	{
		n++;
		if(n>6)
		{
		n=1;
		}
		cleardevice();
		base();
		entity();
		p();
	setcolor(RED);
	if(n==1)
	{
	rectangle(10,0,50,40);
	circle(30,20,5);
	}
	if(n==2)
	{
	rectangle(10,0,50,40);
	circle(20,20,5);
	circle(40,20,5);
	}
	if(n==3)
	{
	rectangle(10,0,50,40);
	circle(30,20,5);
	circle(20,10,5);
	circle(40,30,5);
	}
	if(n==4)
	{
	rectangle(10,0,50,40);
	circle(20,10,5);
	circle(40,10,5);
	circle(20,30,5);
	circle(40,30,5);
	}
	if(n==5)
	{
	rectangle(10,0,50,40);
	circle(30,20,5);
	circle(20,10,5);
	circle(40,10,5);
	circle(20,30,5);
	circle(40,30,5);
	}
	if(n==6)

	   {
	rectangle(10,0,50,40);
	circle(20,9,5);
	circle(20,21,5);
	circle(20,33,5);
	circle(40,9,5);
	circle(40,21,5);
	circle(40,33,5);
	}
	delay(30);
    }


}
void dd()
{
	if(n==1)
	{
	rectangle(10,0,50,40);
	circle(30,20,5);
	}
	if(n==2)
	{
	rectangle(10,0,50,40);
	circle(20,20,5);
	circle(40,20,5);
	}
	if(n==3)
	{
	rectangle(10,0,50,40);
	circle(30,20,5);
	circle(20,10,5);
	circle(40,30,5);
	}
	if(n==4)
	{
	rectangle(10,0,50,40);
	circle(20,10,5);
	circle(40,10,5);
	circle(20,30,5);
	circle(40,30,5);
	}
	if(n==5)
	{
	rectangle(10,0,50,40);
	circle(30,20,5);
	circle(20,10,5);
	circle(40,10,5);
	circle(20,30,5);
	circle(40,30,5);
	}
	if(n==6)

	{
	rectangle(10,0,50,40);
	circle(20,9,5);
	circle(20,21,5);
	circle(20,33,5);
	circle(40,9,5);
	circle(40,21,5);
	circle(40,33,5);
	}
}

void base()
{
	setcolor(YELLOW);
	//vr line
	line(140,0,140,400);
	line(180,0,180,400);
	line(220,0,220,400);
	line(260,0,260,400);
	line(300,0,300,400);
	line(340,0,340,400);
	line(380,0,380,400);
	line(420,0,420,400);
	line(460,0,460,400);
	line(500,0,500,400);
	line(540,0,540,400);
	//hr line
	line(140,0,540,0);
	line(140,40,540,40);
	line(140,80,540,80);
	line(140,120,540,120);
	line(140,160,540,160);
	line(140,200,540,200);
	line(140,240,540,240);
	line(140,280,540,280);
	line(140,320,540,320);
	line(140,360,540,360);
	line(140,400,540,400);
}
void entity()
{
		//ldr 1
	setcolor(BROWN);
	line(235,340,200,260);
	line(245,340,210,260);
	//ldr 2
	line(515,300,470,180);
	line(525,300,480,180);
	//ldr 3
	line(360,220,400,140);
	line(370,220,410,140);
	//ldr 4
	line(150,140,200,60);
	line(160,140,210,60);
	//ldr 5
	line(315,180,315,20);
	line(325,180,325,20);
	setcolor(GREEN);
	//snk 1
	arc(430,330,70,230,30);
	arc(403,370,260,70,20);
	circle(444,300,5);
	fillcolor(444,300,pc,0);
	//snk 2
	arc(180,300,10,100,80);
	arc(335,265,190,250,80);
	circle(161,223,5);
	fillcolor(161,223,pc+1,0);
	//snk 3
	arc(500,180,80,170,80);
	arc(343,177,280,10,80);
	circle(520,100,5);
	fillcolor(520,100,pc+2,0);
	//snk 4
	arc(470,60,80,200,40);
	arc(410,94,230,40,30);
	arc(373,127,30,200,20);
	circle(481,20,5);
	fillcolor(481,20,pc+3,0);
	//snk 5
	arc(220,73,285,65,50);
	arc(287,166,140,260,70);
	circle(235,26,5);
	fillcolor(235,26,pc+4,0);
}
void fillcolor(int x,int y,int n, int o)
{
	if(getpixel(x,y)==0)
	{
		putpixel(x,y,n);
		fillcolor(x+1,y,n,o);
		fillcolor(x-1,y,n,o);
		fillcolor(x,y+1,n,o);
		fillcolor(x,y-1,n,o);
	}
}
void fldr()
{
	if(p1i+n==18)
	{
		ldr=21;
	}
	if(p1i+n==30)
	{
		ldr=22;
	}
	if(p1i+n==46)
	{
		ldr=21;
	}
	if(p1i+n==56)
	{
		ldr=40;
	}
	if(p1i+n==61)
	{
		ldr=21;
	}
	if(p2i+n==18)
	{
		ldr=21;
	}
	if(p2i+n==30)
	{
		ldr=22;
	}
	if(p2i+n==46)
	{
		ldr=21;
	}
	if(p2i+n==56)
	{
		ldr=40;
	}
	if(p2i+n==61)
	{
		ldr=21;
	}
	if(p3i+n==18)
	{
		ldr=21;
	}
	if(p3i+n==30)
	{
		ldr=22;
	}
	if(p3i+n==46)
	{
		ldr=21;
	}
	if(p3i+n==56)
	{
		ldr=40;
	}
	if(p3i+n==61)
	{
		ldr=21;
	}
	if(p4i+n==18)
	{
		ldr=21;
	}
	if(p4i+n==30)
	{
		ldr=22;
	}
	if(p4i+n==46)
	{
		ldr=21;
	}
	if(p4i+n==56)
	{
		ldr=40;
	}
	if(p4i+n==61)
	{
		ldr=21;
	}
}
void fsnk()
{
	if(p1i+n==28)
	{
		snk=21;
		d=1;
	}
	if(p1i+n==41)
	{
		snk=25;
		d=1;
	}
	if(p1i+n==71)
	{
		snk=36;
		d=1;
	}
	if(p1i+n==92)
	{
		snk=26;
		d=1;
	}
	if(p1i+n==98)
	{
		snk=54;
		d=1;
	}
	if(p2i+n==28)
	{
		snk=21;
		d=1;
	}
	if(p2i+n==41)
	{
		snk=25;
		d=1;
	}
	if(p2i+n==71)
	{
		snk=36;
		d=1;
	}
	if(p2i+n==92)
	{
		snk=26;
		d=1;
	}
	if(p2i+n==98)
	{
		snk=54;
		d=1;
	}
	if(p3i+n==28)
	{
		snk=21;
		d=1;
	}
	if(p3i+n==41)
	{
		snk=25;
		d=1;
	}
	if(p3i+n==71)
	{
		snk=36;
		d=1;
	}
	if(p3i+n==92)
	{
		snk=26;
		d=1;
	}
	if(p3i+n==98)
	{
		snk=54;
		d=1;
	}
	if(p4i+n==28)
	{
		snk=21;
		d=1;
	}
	if(p4i+n==41)
	{
		snk=25;
		d=1;
	}
	if(p4i+n==71)
	{
		snk=36;
		d=1;
	}
	if(p4i+n==92)
	{
		snk=26;
		d=1;
	}
	if(p4i+n==98)
	{
		snk=54;
		d=1;
	}

}
